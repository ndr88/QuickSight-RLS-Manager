<mxfile host="app.diagrams.net">
  <diagram id="ValidateResourcesWorkflow" name="Validate Resources Workflow">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- User Action -->
        <mxCell id="user-1" value="User clicks&#xa;'Validate Resources'&#xa;(Troubleshooting)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="180" height="70" as="geometry" />
        </mxCell>
        
        <!-- Show Progress -->
        <mxCell id="progress" value="Show Progress Indicator&#xa;'Checking resources...'" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="50" y="150" width="160" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow1" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="user-1" target="progress">
          <mxGeometry width="50" height="50" relative="1" as="geometry" />
        </mxCell>
        
        <!-- Check 1: S3 Bucket -->
        <mxCell id="check-s3" value="Check S3 Bucket&#xa;• Bucket exists?&#xa;• Accessible?&#xa;• Versioning enabled?" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="50" y="250" width="160" height="90" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow2" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="progress" target="check-s3">
          <mxGeometry width="50" height="50" relative="1" as="geometry" />
        </mxCell>
        
        <!-- Result S3 -->
        <mxCell id="result-s3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="250" y="270" width="100" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow-s3" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1" source="check-s3" target="result-s3">
          <mxGeometry width="50" height="50" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="result-s3-text" value="✓ or ✗" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="270" y="280" width="60" height="30" as="geometry" />
        </mxCell>
        
        <!-- Check 2: Glue Database -->
        <mxCell id="check-glue" value="Check Glue Database&#xa;• Database exists?&#xa;• Accessible?&#xa;• Tables present?" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="50" y="380" width="160" height="90" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow3" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="check-s3" target="check-glue">
          <mxGeometry width="50" height="50" relative="1" as="geometry" />
        </mxCell>
        
        <!-- Result Glue -->
        <mxCell id="result-glue" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="250" y="400" width="100" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow-glue" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1" source="check-glue" target="result-glue">
          <mxGeometry width="50" height="50" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="result-glue-text" value="✓ or ✗" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="270" y="410" width="60" height="30" as="geometry" />
        </mxCell>
        
        <!-- Check 3: QS DataSource -->
        <mxCell id="check-qs" value="Check QS DataSource&#xa;• DataSource exists?&#xa;• Connected to Glue?&#xa;• Accessible?" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="50" y="510" width="160" height="90" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow4" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="check-glue" target="check-qs">
          <mxGeometry width="50" height="50" relative="1" as="geometry" />
        </mxCell>
        
        <!-- Result QS -->
        <mxCell id="result-qs" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="250" y="530" width="100" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow-qs" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1" source="check-qs" target="result-qs">
          <mxGeometry width="50" height="50" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="result-qs-text" value="✓ or ✗" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="270" y="540" width="60" height="30" as="geometry" />
        </mxCell>
        
        <!-- Check 4: Permissions -->
        <mxCell id="check-perms" value="Check IAM Permissions&#xa;• S3 read/write?&#xa;• Glue access?&#xa;• QuickSight access?" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="50" y="640" width="160" height="90" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow5" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="check-qs" target="check-perms">
          <mxGeometry width="50" height="50" relative="1" as="geometry" />
        </mxCell>
        
        <!-- Result Perms -->
        <mxCell id="result-perms" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="250" y="660" width="100" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow-perms" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1" source="check-perms" target="result-perms">
          <mxGeometry width="50" height="50" relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="result-perms-text" value="✓ or ✗" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="270" y="670" width="60" height="30" as="geometry" />
        </mxCell>
        
        <!-- Continue to next column -->
        <mxCell id="connector1" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;entryX=0;entryY=0.5;rounded=1;" edge="1" parent="1" source="check-perms" target="aggregate">
          <mxGeometry width="50" height="50" relative="1" as="geometry" />
        </mxCell>
        
        <!-- Aggregate Results -->
        <mxCell id="aggregate" value="Aggregate Results&#xa;Count:&#xa;• Passed checks&#xa;• Failed checks&#xa;• Warnings" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="480" y="40" width="160" height="100" as="geometry" />
        </mxCell>
        
        <!-- Determine Status -->
        <mxCell id="status" value="Determine Overall Status&#xa;• All Pass: ✓ Healthy&#xa;• Some Fail: ⚠️ Issues&#xa;• All Fail: ✗ Critical" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="480" y="180" width="160" height="90" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow6" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="aggregate" target="status">
          <mxGeometry width="50" height="50" relative="1" as="geometry" />
        </mxCell>
        
        <!-- Generate Report -->
        <mxCell id="report" value="Generate Report&#xa;• Summary&#xa;• Detailed results&#xa;• Recommendations&#xa;• Fix suggestions" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="480" y="310" width="160" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow7" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="status" target="report">
          <mxGeometry width="50" height="50" relative="1" as="geometry" />
        </mxCell>
        
        <!-- Display Results -->
        <mxCell id="display" value="Display Results Page&#xa;• Status badges&#xa;• Resource details&#xa;• Error messages&#xa;• Action buttons" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" vertex="1" parent="1">
          <mxGeometry x="480" y="450" width="160" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow8" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="report" target="display">
          <mxGeometry width="50" height="50" relative="1" as="geometry" />
        </mxCell>
        
        <!-- Actions Available -->
        <mxCell id="actions" value="Available Actions:&#xa;• Create missing resources&#xa;• Fix permissions&#xa;• Re-run validation&#xa;• View detailed logs" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;" vertex="1" parent="1">
          <mxGeometry x="480" y="590" width="160" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow9" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="display" target="actions">
          <mxGeometry width="50" height="50" relative="1" as="geometry" />
        </mxCell>
        
        <!-- Success -->
        <mxCell id="success" value="SUCCESS!&#xa;Validation Complete&#xa;Issues Identified" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="490" y="730" width="140" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow-success" value="" style="endArrow=classic;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="actions" target="success">
          <mxGeometry width="50" height="50" relative="1" as="geometry" />
        </mxCell>
        
        <!-- Legend -->
        <mxCell id="legend-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#666666;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="880" y="40" width="180" height="160" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-title" value="Legend" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="880" y="40" width="180" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-1" value="Lambda Function" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="890" y="80" width="160" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-2" value="UI Display" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="890" y="115" width="160" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-3" value="User Action" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="890" y="150" width="160" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-4" value="Result Indicator" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="890" y="185" width="160" height="25" as="geometry" />
        </mxCell>
        
        <!-- Notes -->
        <mxCell id="notes-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="880" y="220" width="180" height="260" as="geometry" />
        </mxCell>
        
        <mxCell id="notes-title" value="Notes:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="890" y="230" width="160" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="notes-text" value="• Diagnostic tool for&#xa;  troubleshooting&#xa;&#xa;• Checks all required&#xa;  AWS resources&#xa;&#xa;• Validates permissions&#xa;&#xa;• Provides actionable&#xa;  recommendations&#xa;&#xa;• Can auto-fix some&#xa;  issues (future)&#xa;&#xa;• Useful when:&#xa;  - Setup fails&#xa;  - Publish fails&#xa;  - Resources deleted&#xa;  - Permission issues&#xa;&#xa;• Shows detailed error&#xa;  messages&#xa;&#xa;• Can be re-run&#xa;  after fixes" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="890" y="255" width="160" height="215" as="geometry" />
        </mxCell>
        
        <!-- Checks Performed -->
        <mxCell id="checks-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="880" y="500" width="180" height="200" as="geometry" />
        </mxCell>
        
        <mxCell id="checks-title" value="Checks Performed:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="890" y="510" width="160" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="checks-text" value="1. S3 BUCKET&#xa;   - Exists&#xa;   - Versioning on&#xa;   - Accessible&#xa;&#xa;2. GLUE DATABASE&#xa;   - Exists&#xa;   - Has tables&#xa;   - Accessible&#xa;&#xa;3. QS DATASOURCE&#xa;   - Exists&#xa;   - Connected&#xa;   - Working&#xa;&#xa;4. IAM PERMISSIONS&#xa;   - S3 access&#xa;   - Glue access&#xa;   - QS access" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="890" y="535" width="160" height="155" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
